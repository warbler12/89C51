ORG 0000H
SJMP START
ORG 0080H

START:

;p2 LED
;p1 Êý×Ö
MOV DPTR,#TABLE
MOV R1,#08H
MOV R0,#11111110B

LOOP:
    CALL Reset
    MOV A,R1
    MOVC A,@A+DPTR
    MOV P1,A
    MOV P2,R0

    CALL DELAY1

    MOV A,R0
    RL A
    MOV R0,A

    DJNZ R1,LOOP
    MOV R1,#08H
    JMP LOOP

TABLE: DB 00H,00H,0A2H,062H,028H,074H,0A2H,028H,0A2H
SJMP $

 Reset:
    MOV P2,#0FFH
    CALL DELAY2
    RET

DELAY1:
    MOV R3,#02H
D1:
    MOV R4,#0FFH
    DJNZ R4,$
    DJNZ R3,D1
RET

DELAY2:
    MOV R3,#01
D2:
    MOV R4,#20
    DJNZ R4,$
    DJNZ R3,D2
RET
